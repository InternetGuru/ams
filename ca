#!/bin/bash

set -o pipefail
#set -x

declare -r CA_DIR="${CA_DIR:-.}"

# shellcheck disable=SC1090
. "$CA_DIR/commons"
# shellcheck disable=SC1090
. "$CA_DIR/git_functions"

declare -r CA_CMD="${1}"
case "${CA_CMD}" in
  distribute|evaluate|measure)
    shift
    # shellcheck disable=SC1090
    . "$CA_DIR/${CA_CMD}"
    ;;
  *)
    exception "Invalid command '${CA_CMD}'"
    ;;
esac
